# 区块链技术研究

---

区块链技术作为一种去中心化、分布式、加密的、账本数据库技术，已经在越来越多的领域被接纳。如何在银行间交易市场应用区块链技术，更好地为银行间市场应用生态系统的建设服务一直是我们研究的问题。

狭义上讲，IMIX指IMIX协议，全称为银行间市场业务数据交换协议（Inter-bank Market Information eXchange Protocol），是一种用于在银行间市场交易活动（包括人民币、外汇和衍生品等各类产品的交易、发行、确认和清算结算等）中实现实时金融信息传输的电子通信协议。IMIX协议金融行业标准，于2011年6月2日由中国人民银行发布实施，标准号JR/T 0066-2011。广义上讲，IMIX指银行间市场统一业务数据交换体系，是基于IMIX协议标准及另外两项基础行业技术标准（《银行间市场基础数据元》JR/T 0065-2011和《银行间市场数据接口》JR/T 0078-2014）而构建的，结合了标准制修订、标准宣贯和系统实施的软科学体系。

区块链技术同样是针对特定场景的系统间互联互通的解决方案。因此，对IMIX体系进行适当的补充和完善，即可以实现对区块链技术的支持，同时利于现有应用IMIX体系的业务系统完成技术升级的平滑过渡。

一般来说，区块链技术可以分为数据层、网络层、共识层、激励层、合约层和应用层等，每一层次包含相应技术，实现特定的功能。

![](/assets/import_blockchain.png)

其中，数据层封装了底层数据区块以及相关的数据加密和时间戳等。区块链中的数据层并不能直接对应到OSI中单一层次，而是类同于JR/T 0065标准，定义了基础语义的元数据内容。网络层实现连接控制，对应着OSI模型中会话层。共识层、激励层和合约层则是应用系统直接可见的具体场景，对应于OSI模型中的应用层。而表示层负责建立应用系统间语境，就可能出现的编码、格式和加解密等进行转换。就目前而言，区块链对这部分内容并未使用新的技术，现有IMIX体系可以直接支持。

	根据上述分析，我们构想的IMIX体系扩展目标包括：

1\)	元数据

	扩展现有元数据内容（JR/T 0065标准），建立起一套统一的语义基础定义。

2\)	协议标准：	

	扩展IMIX协议（JR/T 0066标准）中会话层内容，支持P2P网络、节点发现和数据同步等内容；扩展应用层内容，支持共识机制、激励和智能合约等；研究表示层对区块链数据传输支持的可行性，必要时调整或完善语法。

3\)	数据接口：

	扩展数据接口内容（JR/T 0078标准），支持适用于银行间市场业务的区块链应用场景。4\)	应用基础设施：

	扩展现有应用基础设施功能，封装应用系统建设所需的应用编程接口和开发框架，降低市场参与者使用区块链技术的难度，同时规范市场上区块链技术的使用方法，提高市场运行效率，并使监管成为可能。

	在对IMIX协议进行区块链扩展的同时，我们选择了一些典型的场景对区块链技术进行了验证：

1. 外币拆借 – 针对同业之间进行外币拆借业务进行实现，主要验证交易登记、利息计算、自动结算等核心智能合约功能。

![](/assets/import_blockchain_02.png)

•	外汇账户查询 – 银行A可查询自己在银行B的账户信息，包括余额，开户名等信息； 银行B可以查询银行A和银行C在本方创建的账户信息，包括余额，开户名等信息；

•	外汇拆借交易 – 银行A依据约定的利率，金额等信息在银行B内存入一笔存款，银行B确认后，系统记录一系列交易信息，生成成交单，交易达成；

•	外汇拆借查询 – 银行A可查询自己在银行B的外汇拆借交易信息，银行A无法查询到银行C在银行B的外汇拆借交易信息。

•	外汇账户查询 – 银行A可查询自己在银行B的账户信息，包括余额，开户名等信息； 银行B可以查询银行A和银行C在本方创建的账户信息，包括余额，开户名等信息；

•	外汇拆借交易 – 银行A依据约定的利率，金额等信息在银行B内存入一笔存款，银行B确认后，系统记录一系列交易信息，生成成交单，交易达成；

•	外汇拆借查询 – 银行A可查询自己在银行B的外汇拆借交易信息，银行A无法查询到银行C在银行B的外汇拆借交易信息。

2.	同业存款 – 针对同业之间进行机构存款的业务进行实现，主要验证存款登记、利息计算、自动结算等核心智能合约功能。

![](/assets/import_blockchain_04.png)

•	存款账户查询 – 银行A，银行C可查询自己在银行B的账户信息，包括余额，开户名等信息； 银行B可以查询银行A和银行C在本方创建的账户信息，包括余额，开户名等信息；

•	存款交易 – 银行A依据约定的利率，金额等信息在银行B内存入一笔存款，银行B确认后，交易达成；银行C同样在银行B存入一笔存款；

•	存款查询 – 银行A可查询自己在银行B的存款交易信息，银行A无法查询到银行C在银行B的存款交易信息。银行B可以查询银行A，银行C的存款交易信息；

3.	基础数据分发 – 针对交易中心系统间的参考数据分发及同步场景进行实现，主要验证数据同步、消息协议、数据加解密等核心技术功能点。 

![](/assets/import_blockchain_05.png)





中心由于系统分散，在各系统间需要同步大量的基础数据信息，例如成交记录、会员信息、产品信息等。为了防止数据的冗余，提高数据传输中的效率，本次原型系统建设过程中将会研讨系统从交易中心现有系统中同步基础信息至本地功能。

在基础数据同步的业务场景下，原型系统将提供数据同步的功能，对应上文架构中的区块链服务、智能合约部分，该功能将验证关键技术中的国密算法以及整体加密性能等部分。





